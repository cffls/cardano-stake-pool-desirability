(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),o=a.n(r),i=(a(15),a(4)),s=a(5),c=a(7),m=a(6),u=a(1),p=a(8),d=(a(16),45e9);var h={z0:function(e){return 1/e},sigma:function(e,t){return e/t},nonmyopicSigma:function(e,t,a,n,l){return a<=l?Math.max(t,n):e},s:function(e,t){return e/t},t:function(e,t,a){return(e-t)/a},R:function(e,t){return(d-e)*t/100},totalPoolReward:function(e,t,a,n,l){var r=Math.min(t,l),o=Math.min(a,l);return e/(1+n)*(o+r*n*(o-r*(l-o)/l)/l)},poolLeaderReward:function(e,t,a,n,l){return e<t?e:t+(e-t)*(a+(1-a)*n/l)},memberReward:function(e,t,a,n,l){return e<t?0:(e-t)*(1-a)*n/l},desirability:function(e,t,a){return e<=t?0:(e-t)*(1-a)}};function E(e){return Math.round(1e6*e)/1e6}function g(e){return Math.round(100*e)/100}var v=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e));var n=g(31e9/150);return a.state={currentTotalSupply:31e9,targetNumPools:150,totalStakeInCurrentPool:n,totalStakeFromPoolLeaders:1e6,yourTotalStake:1e5,a0:.3,r:20,usdToADA:.1,costPerEpoch:340,m:5,rho:.22},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"updateAll",value:function(){var e=h.z0(this.state.targetNumPools),t=h.sigma(this.state.totalStakeInCurrentPool,this.state.currentTotalSupply),a=h.s(this.state.totalStakeFromPoolLeaders,this.state.currentTotalSupply),n=h.nonmyopicSigma(a,t,this.state.r,e,this.state.targetNumPools),l=h.t(this.state.totalStakeInCurrentPool,this.state.totalStakeFromPoolLeaders,this.state.currentTotalSupply),r=this.state.costPerEpoch,o=h.R(this.state.currentTotalSupply,this.state.rho),i=E(h.totalPoolReward(o,a,t,this.state.a0,e)),s=E(h.poolLeaderReward(i,r,this.state.m/100,a,t)),c=E(h.memberReward(i,r,this.state.m/100,l,t)),m=E(c*this.state.yourTotalStake/(this.state.totalStakeInCurrentPool-this.state.totalStakeFromPoolLeaders)),u=E(h.desirability(i,r,this.state.m/100,t)),p=E(h.totalPoolReward(o,a,n,this.state.a0,e)),d=E(h.poolLeaderReward(p,r,this.state.m/100,a,n)),g=E(h.memberReward(p,r,this.state.m/100,l,n)),v=E(g*this.state.yourTotalStake/(this.state.totalStakeInCurrentPool-this.state.totalStakeFromPoolLeaders)),f=E(h.desirability(p,r,this.state.m/100,e));this.setState({z0:e,sigma:t,nonmyopicSigma:n,s:a,t:l,c:r,R:o,myopicTotalPoolReward:i,myopicPoolLeaderReward:s,myopicMemberReward:c,myopicIndividualReward:m,myopicDesirability:u,nonmyopicTotalPoolReward:p,nonmyopicPoolLeaderReward:d,nonmyopicMemberReward:g,nonmyopicIndividualReward:v,nonmyopicDesirability:f})}}]),Object(u.a)(t,[{key:"handleChange",value:function(e,t){var a=this;this.setState(Object(i.a)({},e,parseFloat(t.target.value)),function(){a.updateAll()})}},{key:"componentDidMount",value:function(){this.updateAll()}},{key:"render",value:function(){var e,t,a=this;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row title"},l.a.createElement("div",{className:"alert alert-primary col-sm-9 offset-sm-2",role:"alert"},l.a.createElement("h4",{className:"alert-heading"},"Cardano Stake Pool Desirability Estimation"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-3 offset-sm-2 card"},l.a.createElement("div",null,"Total ADA Supply"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"\u20b3")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("currentTotalSupply",e)},defaultValue:this.state.currentTotalSupply})),l.a.createElement("div",null,"Monetary expansion rate (\u03c1)"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"%")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("rho",e)},defaultValue:this.state.rho})),l.a.createElement("div",null,"Pool leader influence factor"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("a0",e)},defaultValue:this.state.a0})),l.a.createElement("div",null,"Number of desired pools"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"#")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("targetNumPools",e)},defaultValue:this.state.targetNumPools})),l.a.createElement("div",null,"Current rank of the pool"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"#")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("r",e)},defaultValue:this.state.r})),l.a.createElement("div",null,"Total stake in current pool"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"\u20b3")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("totalStakeInCurrentPool",e)},defaultValue:this.state.totalStakeInCurrentPool})),l.a.createElement("div",null,"Total stake from pool leader"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"\u20b3")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("totalStakeFromPoolLeaders",e)},defaultValue:this.state.totalStakeFromPoolLeaders})),l.a.createElement("div",null,"Your total stake"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"\u20b3")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("yourTotalStake",e)},defaultValue:this.state.yourTotalStake})),l.a.createElement("div",null,"Exchange rate"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"USD/ADA")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("usdToADA",e)},defaultValue:this.state.usdToADA})),l.a.createElement("div",null,"Cost per epoch"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"\u20b3")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("costPerEpoch",e)},defaultValue:this.state.costPerEpoch}),l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"$ ",(e=this.state.c,t=this.state.usdToADA,g(e*t))))),l.a.createElement("div",null,"Pool fee"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"%")),l.a.createElement("input",{className:"form-control",onChange:function(e){return a.handleChange("m",e)},defaultValue:this.state.m}))),l.a.createElement("div",{className:"col-sm-5 offset-sm-1"},l.a.createElement("ul",{className:"list-group dependent-variable-panel"},l.a.createElement("li",{className:"list-group-item list-group-item-action active"},l.a.createElement("div",null,"Myopic estimation")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Total pool reward per epoch"),l.a.createElement("div",null,this.state.myopicTotalPoolReward)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Pool leader reward per epoch"),l.a.createElement("div",null,this.state.myopicPoolLeaderReward)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Total stake member reward per epoch"),l.a.createElement("div",null,this.state.myopicMemberReward)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Your reward per epoch"),l.a.createElement("div",null,this.state.myopicIndividualReward)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Desirability"),l.a.createElement("div",null,this.state.myopicDesirability))),l.a.createElement("ul",{className:"list-group dependent-variable-panel"},l.a.createElement("li",{className:"list-group-item list-group-item-action active"},l.a.createElement("div",null,"Non-myopic estimation")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Total pool reward per epoch when pool is saturated"),l.a.createElement("div",null,this.state.nonmyopicTotalPoolReward)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Pool leader reward per epoch"),l.a.createElement("div",null,this.state.nonmyopicPoolLeaderReward," ($",g(this.state.nonmyopicPoolLeaderReward*this.state.usdToADA),")")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Total stake member reward per epoch"),l.a.createElement("div",null,this.state.nonmyopicMemberReward," ($",g(this.state.nonmyopicMemberReward*this.state.usdToADA),")")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Your reward per epoch"),l.a.createElement("div",null,this.state.nonmyopicIndividualReward," ($",g(this.state.nonmyopicIndividualReward*this.state.usdToADA),")")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",null,"Desirability"),l.a.createElement("div",null,this.state.nonmyopicDesirability))),l.a.createElement("a",{id:"githublink",href:"https://github.com/cffls/cardano-stake-pool-desirability"},l.a.createElement("span",null,"Github "),l.a.createElement("em",{className:"fa fa-github"})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.c94e2388.chunk.js.map