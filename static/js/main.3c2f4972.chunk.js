(this["webpackJsonpcardano-stake-pool-estimation"]=this["webpackJsonpcardano-stake-pool-estimation"]||[]).push([[0],{11:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s(3),r=s.n(i);s(8),s(9);var o={z0:function(e){return 1/e},sigma:function(e,t){return e/t},nonmyopicSigma:function(e,t,s,a,i){return s<=i?Math.max(t,a):e},s:function(e,t){return e/t},t:function(e,t,s){return(e-t)/s},R:function(e,t){return(45e9-e)*t/100},totalPoolReward:function(e,t,s,a,i){var r=Math.min(t,i),o=Math.min(s,i);return e/(1+a)*(o+r*a*(o-r*(i-o)/i)/i)},poolLeaderReward:function(e,t,s,a,i){return e<t?e:t+(e-t)*(s+(1-s)*a/i)},memberReward:function(e,t,s,a,i){return e<t?0:(e-t)*(1-s)*a/i},desirability:function(e,t,s){return e<=t?0:(e-t)*(1-s)}},l=s(0);function n(e){return Math.round(1e6*e)/1e6}function c(e){return Math.round(100*e)/100}class d extends a.Component{updateAll(){var e=o.z0(this.state.targetNumPools),t=o.sigma(this.state.totalStakeInCurrentPool,this.state.currentTotalSupply),s=o.s(this.state.totalStakeFromPoolLeaders,this.state.currentTotalSupply),a=o.nonmyopicSigma(s,t,this.state.r,e,this.state.targetNumPools),i=o.t(this.state.totalStakeInCurrentPool,this.state.totalStakeFromPoolLeaders,this.state.currentTotalSupply),r=this.state.costPerEpoch,l=o.R(this.state.currentTotalSupply,this.state.rho),c=n(o.totalPoolReward(l,s,t,this.state.a0,e)),d=n(o.poolLeaderReward(c,r,this.state.m/100,s,t)),h=n(o.memberReward(c,r,this.state.m/100,i,t)),p=n(h*this.state.yourTotalStake/(this.state.totalStakeInCurrentPool-this.state.totalStakeFromPoolLeaders)),u=n(o.desirability(c,r,this.state.m/100,t)),j=n(o.totalPoolReward(l,s,a,this.state.a0,e)),m=n(o.poolLeaderReward(j,r,this.state.m/100,s,a)),b=n(o.memberReward(j,r,this.state.m/100,i,a)),x=n(b*this.state.yourTotalStake/(this.state.totalStakeInCurrentPool-this.state.totalStakeFromPoolLeaders)),O=n(o.desirability(j,r,this.state.m/100,e));this.setState({z0:e,sigma:t,nonmyopicSigma:a,s:s,t:i,c:r,R:l,myopicTotalPoolReward:c,myopicPoolLeaderReward:d,myopicMemberReward:h,myopicIndividualReward:p,myopicDesirability:u,nonmyopicTotalPoolReward:j,nonmyopicPoolLeaderReward:m,nonmyopicMemberReward:b,nonmyopicIndividualReward:x,nonmyopicDesirability:O})}constructor(e){super(e);var t=31e9,s=c(206666666.66666666);this.state={currentTotalSupply:t,targetNumPools:150,totalStakeInCurrentPool:s,totalStakeFromPoolLeaders:1e6,yourTotalStake:1e5,a0:.3,r:20,usdToADA:.1,costPerEpoch:340,m:5,rho:.22}}handleChange(e,t){this.setState({[e]:parseFloat(t.target.value)},(()=>{this.updateAll()}))}componentDidMount(){this.updateAll()}render(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"row title",children:Object(l.jsx)("div",{className:"alert alert-primary col-sm-9 offset-sm-2",role:"alert",children:Object(l.jsx)("h4",{className:"alert-heading",children:"Cardano Stake Pool Desirability Estimation"})})}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-sm-3 offset-sm-2 card",children:[Object(l.jsx)("div",{children:"Total ADA Supply"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"\u20b3"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("currentTotalSupply",e),defaultValue:this.state.currentTotalSupply})]}),Object(l.jsx)("div",{children:"Monetary expansion rate (\u03c1)"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"%"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("rho",e),defaultValue:this.state.rho})]}),Object(l.jsx)("div",{children:"Pool leader influence factor"}),Object(l.jsx)("div",{className:"input-group mb-3",children:Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("a0",e),defaultValue:this.state.a0})}),Object(l.jsx)("div",{children:"Number of desired pools"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"#"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("targetNumPools",e),defaultValue:this.state.targetNumPools})]}),Object(l.jsx)("div",{children:"Current rank of the pool"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"#"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("r",e),defaultValue:this.state.r})]}),Object(l.jsx)("div",{children:"Total stake in current pool"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"\u20b3"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("totalStakeInCurrentPool",e),defaultValue:this.state.totalStakeInCurrentPool})]}),Object(l.jsx)("div",{children:"Total stake from pool leader"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"\u20b3"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("totalStakeFromPoolLeaders",e),defaultValue:this.state.totalStakeFromPoolLeaders})]}),Object(l.jsx)("div",{children:"Your total stake"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"\u20b3"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("yourTotalStake",e),defaultValue:this.state.yourTotalStake})]}),Object(l.jsx)("div",{children:"Exchange rate"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"USD/ADA"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("usdToADA",e),defaultValue:this.state.usdToADA})]}),Object(l.jsx)("div",{children:"Cost per epoch"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"\u20b3"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("costPerEpoch",e),defaultValue:this.state.costPerEpoch}),Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsxs)("span",{className:"input-group-text",children:["$ ",(e=this.state.c,t=this.state.usdToADA,c(e*t))]})})]}),Object(l.jsx)("div",{children:"Pool fee"}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"%"})}),Object(l.jsx)("input",{className:"form-control",onChange:e=>this.handleChange("m",e),defaultValue:this.state.m})]})]}),Object(l.jsxs)("div",{className:"col-sm-5 offset-sm-1",children:[Object(l.jsxs)("ul",{className:"list-group dependent-variable-panel",children:[Object(l.jsx)("li",{className:"list-group-item list-group-item-action active",children:Object(l.jsx)("div",{children:"Myopic estimation"})}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Total pool reward per epoch"}),Object(l.jsx)("div",{children:this.state.myopicTotalPoolReward})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Pool leader reward per epoch"}),Object(l.jsx)("div",{children:this.state.myopicPoolLeaderReward})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Total stake member reward per epoch"}),Object(l.jsx)("div",{children:this.state.myopicMemberReward})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Your reward per epoch"}),Object(l.jsx)("div",{children:this.state.myopicIndividualReward})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Desirability"}),Object(l.jsx)("div",{children:this.state.myopicDesirability})]})]}),Object(l.jsxs)("ul",{className:"list-group dependent-variable-panel",children:[Object(l.jsx)("li",{className:"list-group-item list-group-item-action active",children:Object(l.jsx)("div",{children:"Non-myopic estimation"})}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Total pool reward per epoch when pool is saturated"}),Object(l.jsx)("div",{children:this.state.nonmyopicTotalPoolReward})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Pool leader reward per epoch"}),Object(l.jsxs)("div",{children:[this.state.nonmyopicPoolLeaderReward," ($",c(this.state.nonmyopicPoolLeaderReward*this.state.usdToADA),")"]})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Total stake member reward per epoch"}),Object(l.jsxs)("div",{children:[this.state.nonmyopicMemberReward," ($",c(this.state.nonmyopicMemberReward*this.state.usdToADA),")"]})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Your reward per epoch"}),Object(l.jsxs)("div",{children:[this.state.nonmyopicIndividualReward," ($",c(this.state.nonmyopicIndividualReward*this.state.usdToADA),")"]})]}),Object(l.jsxs)("li",{className:"list-group-item",children:[Object(l.jsx)("div",{children:"Desirability"}),Object(l.jsx)("div",{children:this.state.nonmyopicDesirability})]})]}),Object(l.jsxs)("a",{id:"githublink",href:"https://github.com/cffls/cardano-stake-pool-desirability",children:[Object(l.jsx)("span",{children:"Github "}),Object(l.jsx)("em",{className:"fa fa-github"})]})]})]})]});var e,t}}var h=d;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(l.jsx)(h,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},8:function(e,t,s){},9:function(e,t,s){}},[[11,1,2]]]);
//# sourceMappingURL=main.3c2f4972.chunk.js.map